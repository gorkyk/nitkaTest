
Задача в интерпретации Кирилла Райкова:
1. Загружаются YAML конфигурации, которые полностью сохраняются в базе mongodb с сохранением структуры
2. Ключ, по которому конфигурация хранится - имя файла.
 (В монге так же есть уникальный object_id, который должен быть скрыт от пользователя)
3. При попытке загрузить конфигурацию с уже существующим именем - данные перезаписываются
(на случай, если  конфигурация внутри файла изменилась)
4. Конфигурации и таблицы из них сохраняются в mongodb в коллекциях configurations и tables
5. Структура tables - filename(имя конфиг файла, к которому относится таблица),
                      type(target/source),
                      database_name,
                      table_name
6. Связки вида (table_name, database_name,type,filename) не повторяются
7. API - есть два эндпоинта -
                              post /upload/ - загружается файл yml
                              get /configuration/{filename}/tables - из базы возвращаются tables по имени файла
8. source и target таблицы находятся по следующим правилам:
          source_table в имени таблицы -> type: source
          target_table в имени таблицы -> type: target
          landing_table в имени таблицы -> type: target
          refinery_tables над table (на один уровень вложенности выше названия) -> type: source
          database_name в имени database -> type: target (так как единственный пример имел внутри имя таблицы landing_prod)
9. Происходит рекурсивный парсинг всех диктов, чтобы найти связки database_name + table_name внутри.


Запуск приложения - uvicorn main:app --reload
(нужна установленная mongodb на локальной машине на порте 27017 (стандарт))
Для тестирования (загрузки тестовых файлов в базу с помощью post запроса и выгрузки таблиц с помощью get - можно запустить test_api.py)
Приложение крутится по адресу http://127.0.0.1:8000/
fastapi docs: http://127.0.0.1:8000/docs
